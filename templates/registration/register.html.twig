{% extends 'base.html.twig' %}

{% block title %}Cr√©er un compte{% endblock %}

{% block body %}
    <div class="max-w-xl mx-auto p-6">
        <div class="text-center mb-10">
            <h1 class="text-3xl font-bold text-gray-900">
                Inscription<br>
                <span class="text-blue-600">rejoignez notre communaut√©</span>
            </h1>
        </div>

        {% for message in app.flashes('verify_email_error') %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
                {{ message }}
            </div>
        {% endfor %}

        {% for message in app.flashes('success') %}
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
                {{ message }}
            </div>
        {% endfor %}

        {{ form_start(registrationForm, {'attr': {'class': 'space-y-6'}}) }}

        <div class="flex flex-col gap-2">
            <label class="font-semibold text-sm text-gray-700">Nom d'utilisateur</label>
            {{ form_widget(registrationForm.username, {
                'attr': {
                    'placeholder': 'Ex : mahbouba93',
                    'class': 'px-4 py-2 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 text-sm'
                }
            }) }}
            {{ form_errors(registrationForm.username) }}
        </div>

        <div class="flex flex-col gap-2">
            <label class="font-semibold text-sm text-gray-700">Adresse email</label>
            {{ form_widget(registrationForm.email, {
                'attr': {
                    'placeholder': 'exemple@mail.com',
                    'class': 'px-4 py-2 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 text-sm'
                }
            }) }}
            {{ form_errors(registrationForm.email) }}
        </div>

        <div class="flex flex-col gap-2">
            <label class="font-semibold text-sm text-gray-700">Num√©ro de t√©l√©phone</label>
            {{ form_widget(registrationForm.phoneNumber, {
                'attr': {
                    'placeholder': '06 12 34 56 78',
                    'class': 'px-4 py-2 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 text-sm'
                }
            }) }}
            {{ form_errors(registrationForm.phoneNumber) }}
        </div>

        <div class="flex flex-col gap-2">
            <label class="font-semibold text-sm text-gray-700">Adresse</label>
            {{ form_widget(registrationForm.address, {
                'attr': {
                    'placeholder': '123 rue du Web',
                    'class': 'px-4 py-2 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 text-sm'
                }
            }) }}
            {{ form_errors(registrationForm.address) }}
        </div>

        {# üîπ Nouveau champ : Ville #}
        <div class="flex flex-col gap-2">
            <label class="font-semibold text-sm text-gray-700">Ville</label>
            {{ form_widget(registrationForm.ville, {
                'attr': {
                    'placeholder': 'Ex : Paris',
                    'class': 'px-4 py-2 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 text-sm'
                }
            }) }}
            {{ form_errors(registrationForm.ville) }}
        </div>

        {# üîπ Nouveau champ : Code postal #}
        <div class="flex flex-col gap-2">
            <label class="font-semibold text-sm text-gray-700">Code postal</label>
            {{ form_widget(registrationForm.codePostal, {
                'attr': {
                    'placeholder': 'Ex : 1234',
                    'class': 'px-4 py-2 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 text-sm'
                }
            }) }}
            {{ form_errors(registrationForm.codePostal) }}
        </div>

        <div class="flex flex-col gap-2">
            <label class="font-semibold text-sm text-gray-700">Mot de passe</label>
            {{ form_widget(registrationForm.plainPassword, {
                'attr': {
                    'placeholder': 'Choisissez un mot de passe',
                    'class': 'px-4 py-2 rounded-lg border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 text-sm'
                }
            }) }}
            {{ form_errors(registrationForm.plainPassword) }}
        </div>

        <div class="flex items-start gap-2">
            {{ form_widget(registrationForm.agreeTerms, {
                'attr': { 'class': 'mt-1' }
            }) }}
            {{ form_label(registrationForm.agreeTerms, null, { 'label_attr': { 'class': 'text-sm text-gray-700' } }) }}
            {{ form_errors(registrationForm.agreeTerms) }}
        </div>

        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-center">
            Cr√©er mon compte
        </button>

        {{ form_end(registrationForm) }}
    </div>
{% endblock %}
